import{S as U,i as H,s as X,a as A,k as E,e as M,c as C,l as S,m as v,h as u,n as o,b as I,E as p,N as P,I as B,B as L,O as F,o as G,C as T,q as D,D as N,r as O}from"../../chunks/index-6e01c3ae.js";import{b as J}from"../../chunks/paths-b4419565.js";import{s as Q}from"../../chunks/kakao-59a06535.js";function Y(h){let r,s,t,a;return{c(){r=E("button"),s=D("Share"),this.h()},l(n){r=S(n,"BUTTON",{class:!0});var i=v(r);s=O(i,"Share"),i.forEach(u),this.h()},h(){o(r,"class","btn btn-xs sm:btn-sm md:btn-md lg:btn-lg svelte-1e0yu9d")},m(n,i){I(n,r,i),p(r,s),t||(a=B(r,"click",h[6]),t=!0)},p:L,d(n){n&&u(r),t=!1,a()}}}function Z(h){let r,s,t;return{c(){r=E("a"),s=D("Share"),this.h()},l(a){r=S(a,"A",{href:!0,target:!0,class:!0});var n=v(r);s=O(n,"Share"),n.forEach(u),this.h()},h(){o(r,"href",t=`intent://${h[5](h[1]).replace("https://","")}#Intent;scheme=https;package=com.android.chrome;end'`),o(r,"target","__blank"),o(r,"class","btn btn-xs sm:btn-sm md:btn-md lg:btn-lg svelte-1e0yu9d")},m(a,n){I(a,r,n),p(r,s)},p(a,n){n&2&&t!==(t=`intent://${a[5](a[1]).replace("https://","")}#Intent;scheme=https;package=com.android.chrome;end'`)&&o(r,"href",t)},d(a){a&&u(r)}}}function W(h){let r,s,t,a,n,i,d;return{c(){r=E("div"),s=E("div"),t=T("svg"),a=T("path"),n=A(),i=E("span"),d=D("Link copied!"),this.h()},l(c){r=S(c,"DIV",{class:!0});var m=v(r);s=S(m,"DIV",{});var f=v(s);t=N(f,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var x=v(t);a=N(x,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(a).forEach(u),x.forEach(u),n=C(f),i=S(f,"SPAN",{});var k=v(i);d=O(k,"Link copied!"),k.forEach(u),f.forEach(u),m.forEach(u),this.h()},h(){o(a,"stroke-linecap","round"),o(a,"stroke-linejoin","round"),o(a,"stroke-width","2"),o(a,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current flex-shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(r,"class","alert alert-success shadow-lg svelte-1e0yu9d")},m(c,m){I(c,r,m),p(r,s),p(s,t),p(t,a),p(s,n),p(s,i),p(i,d)},d(c){c&&u(r)}}}function K(h){let r,s,t,a,n,i,d;return{c(){r=E("div"),s=E("div"),t=T("svg"),a=T("path"),n=A(),i=E("span"),d=D("Please enter your message"),this.h()},l(c){r=S(c,"DIV",{class:!0});var m=v(r);s=S(m,"DIV",{});var f=v(s);t=N(f,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var x=v(t);a=N(x,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(a).forEach(u),x.forEach(u),n=C(f),i=S(f,"SPAN",{});var k=v(i);d=O(k,"Please enter your message"),k.forEach(u),f.forEach(u),m.forEach(u),this.h()},h(){o(a,"stroke-linecap","round"),o(a,"stroke-linejoin","round"),o(a,"stroke-width","2"),o(a,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current flex-shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(r,"class","alert alert-error shadow-lg svelte-1e0yu9d")},m(c,m){I(c,r,m),p(r,s),p(s,t),p(t,a),p(s,n),p(s,i),p(i,d)},d(c){c&&u(r)}}}function q(h){let r,s,t,a,n,i,d;return{c(){r=E("div"),s=E("div"),t=T("svg"),a=T("path"),n=A(),i=E("span"),d=D("Something went wrong!"),this.h()},l(c){r=S(c,"DIV",{class:!0});var m=v(r);s=S(m,"DIV",{});var f=v(s);t=N(f,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var x=v(t);a=N(x,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(a).forEach(u),x.forEach(u),n=C(f),i=S(f,"SPAN",{});var k=v(i);d=O(k,"Something went wrong!"),k.forEach(u),f.forEach(u),m.forEach(u),this.h()},h(){o(a,"stroke-linecap","round"),o(a,"stroke-linejoin","round"),o(a,"stroke-width","2"),o(a,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current flex-shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(r,"class","alert alert-error shadow-lg svelte-1e0yu9d")},m(c,m){I(c,r,m),p(r,s),p(s,t),p(t,a),p(s,n),p(s,i),p(i,d)},d(c){c&&u(r)}}}function $(h){let r,s,t,a,n,i,d,c,m,f;function x(e,l){return e[0]?Z:Y}let k=x(h),b=k(h),_=h[3]&&W(),y=h[4]&&K(),w=h[2]&&q();return{c(){b.c(),r=A(),s=E("div"),t=E("textarea"),n=A(),_&&_.c(),i=A(),y&&y.c(),d=A(),w&&w.c(),c=M(),this.h()},l(e){b.l(e),r=C(e),s=S(e,"DIV",{id:!0,class:!0});var l=v(s);t=S(l,"TEXTAREA",{placeholder:!0,class:!0,maxlength:!0}),v(t).forEach(u),l.forEach(u),n=C(e),_&&_.l(e),i=C(e),y&&y.l(e),d=C(e),w&&w.l(e),c=M(),this.h()},h(){o(t,"placeholder","Type here"),o(t,"class",a="textarea textarea-ghost translate-y-[-50%] md:translate-y-[0%] "+(h[1].length>0?"text-error":"")+" svelte-1e0yu9d"),o(t,"maxlength",12*10),o(s,"id","title-container"),o(s,"class","svelte-1e0yu9d")},m(e,l){b.m(e,l),I(e,r,l),I(e,s,l),p(s,t),P(t,h[1]),I(e,n,l),_&&_.m(e,l),I(e,i,l),y&&y.m(e,l),I(e,d,l),w&&w.m(e,l),I(e,c,l),m||(f=[B(t,"keydown",h[7]),B(t,"keyup",h[7]),B(t,"input",h[8]),B(t,"input",h[11])],m=!0)},p(e,[l]){k===(k=x(e))&&b?b.p(e,l):(b.d(1),b=k(e),b&&(b.c(),b.m(r.parentNode,r))),l&2&&a!==(a="textarea textarea-ghost translate-y-[-50%] md:translate-y-[0%] "+(e[1].length>0?"text-error":"")+" svelte-1e0yu9d")&&o(t,"class",a),l&2&&P(t,e[1]),e[3]?_||(_=W(),_.c(),_.m(i.parentNode,i)):_&&(_.d(1),_=null),e[4]?y||(y=K(),y.c(),y.m(d.parentNode,d)):y&&(y.d(1),y=null),e[2]?w||(w=q(),w.c(),w.m(c.parentNode,c)):w&&(w.d(1),w=null)},i:L,o:L,d(e){b.d(e),e&&u(r),e&&u(s),e&&u(n),_&&_.d(e),e&&u(i),y&&y.d(e),e&&u(d),w&&w.d(e),e&&u(c),m=!1,F(f)}}}function ee(h,r,s){let t,a,n,i,d,{data:c}=r;const m=!0,f=e=>{const g=`https://x-mas.holder.team${J}?message=${e}`;return encodeURI(g)},x=()=>{const e=document.createElement("textarea");e.value=f(t),e.readOnly=!0,e.style.top="0",e.style.left="0",e.style.position="fixed",e.style.display="hidden",document.body.appendChild(e),e.focus(),e.select();try{const l=document.execCommand("copy");return document.body.removeChild(e),!0}catch{return document.body.removeChild(e),!1}},k=async()=>{if(t.length<=0){s(4,n=!0),setTimeout(()=>{s(4,n=!1)},3e3);return}const e=f(t);navigator.userAgent.indexOf("KAKAOTALK")>=0?Q(e,t):navigator.share?navigator.share({title:"Christmas Message",url:e}):navigator.clipboard.writeText(e).then(()=>{s(3,a=!0),setTimeout(()=>{s(3,a=!1)},3e3)}).catch(l=>{x()?(s(3,a=!0),setTimeout(()=>{s(3,a=!1)},3e3)):(s(2,i=!0),setTimeout(()=>{s(2,i=!1)},3e3))})},b=e=>{const l=document.createElement("textarea");l.style.border="none",l.style.height="0",l.style.overflow="hidden",l.style.padding="0",l.style.position="absolute",l.style.left="0",l.style.top="0",l.style.zIndex="-1",document.body.appendChild(l);var g=window.getComputedStyle(e),V=parseInt(g.paddingLeft),R=parseInt(g.paddingRight),j=parseInt(g.lineHeight);isNaN(j)&&(j=parseInt(g.fontSize)),l.style.width=e.clientWidth-V-R+"px",l.style.font=g.font,l.style.letterSpacing=g.letterSpacing,l.style.whiteSpace=g.whiteSpace,l.style.wordBreak=g.wordBreak,l.style.wordSpacing=g.wordSpacing,l.style.wordWrap=g.wordWrap,l.value=e.value;var z=Math.floor(l.scrollHeight/j);return z==0&&(z=1),document.body.removeChild(l),z},_=e=>{let l=e.target;if(e.type==="set-textarea-height"&&(l=document.querySelector("textarea")),l){const g=l,V=b(g);(e.type==="set-textarea-height"||g.rows!==V)&&(g.rows=V)}},y=e=>{const l=e.target;if(b(l)>10){l.value=l.value.slice(0,l.value.length-1),s(1,t=l.value);return}s(1,t=l.value)};G(()=>{c.message&&(s(1,t=c.message),setTimeout(()=>{_(new Event("set-textarea-height"))},50)),!navigator.share&&!navigator.clipboard&&s(0,d=!0)});function w(){t=this.value,s(1,t)}return h.$$set=e=>{"data"in e&&s(9,c=e.data)},s(1,t=""),s(3,a=!1),s(4,n=!1),s(2,i=!1),s(0,d=!1),[d,t,i,a,n,f,k,_,y,c,m,w]}class le extends U{constructor(r){super(),H(this,r,ee,$,X,{data:9,prerender:10})}get prerender(){return this.$$.ctx[10]}}export{le as default};
